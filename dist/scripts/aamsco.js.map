{"version":3,"sources":["../../src/scripts/aamsco.js"],"names":["getSiteHtml","require","siteUrl","request","companyInfo","then","document","name","text","twitterAnchor","attr","twitter","facebookAnchor","facebook","linkedIn","linkedin","phoneArr","each","phoneNumber","toLowerCase","replace","push","phone","aboutUsAnchor","startsWith","aboutRequest","description","console","log"],"mappings":";;;;AAAA,IAAMA,cAAcC,QAAQ,kBAAR,CAApB;;AAEA,IAAMC,UAAU,oBAAhB;;AAEA,IAAMC,UAAUH,YAAYE,OAAZ,CAAhB;;AAEA,IAAIE,cAAc,EAAlB;;AAEAD,QAAQE,IAAR;AAAA,qEAAa,iBAAeC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAELC,gBAFK,GAEED,SAAS,4BAAT,EAAuCE,IAAvC,EAFF;;AAGXJ,wBAAYG,IAAZ,GAAmBA,IAAnB;;AAEA;AACIE,yBANO,GAMSH,SAAS,wBAAT,EAAmCI,IAAnC,CAAwC,MAAxC,CANT;;AAOXN,wBAAYO,OAAZ,GAAsBF,aAAtB;;AAEIG,0BATO,GASUN,SAAS,yBAAT,EAAoCI,IAApC,CAAyC,MAAzC,CATV;;AAUXN,wBAAYS,QAAZ,GAAuBD,cAAvB;;AAEIE,oBAZO,GAYIR,SAAS,yBAAT,EAAoCI,IAApC,CAAyC,MAAzC,CAZJ;;AAaXN,wBAAYW,QAAZ,GAAuBD,QAAvB;;AAEA;AACIE,oBAhBO,GAgBI,EAhBJ;;AAiBXV,qBAAS,iBAAT,EAA4BW,IAA5B,CAAiC,YAAY;AAC3C,kBAAIC,cAAcZ,SAAS,IAAT,EAAeE,IAAf,GAAsBW,WAAtB,EAAlB;AACAD,4BAAcA,YAAYE,OAAZ,CAAoB,MAApB,EAA4B,EAA5B,EAAgCF,WAAhC,CAAd;AACAA,4BAAcA,YAAYE,OAAZ,CAAoB,GAApB,EAAyB,EAAzB,EAA6BF,WAA7B,CAAd;AACAA,4BAAcA,YAAYE,OAAZ,CAAoB,MAApB,EAA4B,EAA5B,EAAgCF,WAAhC,CAAd;AACAF,uBAASK,IAAT,CAAcH,WAAd;AACD,aAND;AAOAd,wBAAYkB,KAAZ,GAAoBN,QAApB;;AAEA;AACIO,yBA3BO,GA2BSjB,SAAS,qBAAT,EAAgCI,IAAhC,CAAqC,MAArC,CA3BT;;AA4BX,gBAAI,CAACa,cAAcJ,WAAd,GAA4BK,UAA5B,CAAuC,MAAvC,CAAD,IAAmD,CAACD,cAAcJ,WAAd,GAA4BK,UAA5B,CAAuC,OAAvC,CAAxD,EAAyG;AACvGD,8BAAgBrB,UAAUqB,aAA1B;AACD;AACD;AA/BW;AAAA,mBAgCgBvB,YAAYuB,aAAZ,CAhChB;;AAAA;AAgCLE,wBAhCK;AAiCLC,uBAjCK,GAiCSD,aAAa,gBAAb,EAA+BjB,IAA/B,EAjCT;;AAkCXJ,wBAAYsB,WAAZ,GAA0BA,WAA1B;;AAEAC,oBAAQC,GAAR,CAAYxB,WAAZ;;AApCW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAb;;AAAA;AAAA;AAAA;AAAA","file":"aamsco.js","sourcesContent":["const getSiteHtml = require('../utils/scraper');\n\nconst siteUrl = \"https://aamsco.net\";\n\nconst request = getSiteHtml(siteUrl);\n\nvar companyInfo = {};\n\nrequest.then(async function(document) {\n\n  const name = document('.site-title a:nth-child(1)').text(); \n  companyInfo.name = name\n  \n  // Social\n  let twitterAnchor = document(\"a[href*='twitter.com']\").attr(\"href\");\n  companyInfo.twitter = twitterAnchor;\n\n  let facebookAnchor = document(\"a[href*='facebook.com']\").attr(\"href\");\n  companyInfo.facebook = facebookAnchor;\n\n  let linkedIn = document(\"a[href*='linkedin.com']\").attr(\"href\");\n  companyInfo.linkedin = linkedIn;\n\n  // Telephone\n  let phoneArr = [];\n  document(\"a[href*='tel:']\").each(function () {\n    let phoneNumber = document(this).text().toLowerCase();\n    phoneNumber = phoneNumber.replace(\"tel:\", \"\", phoneNumber);\n    phoneNumber = phoneNumber.replace(\" \", \"\", phoneNumber);\n    phoneNumber = phoneNumber.replace(\"call\", \"\", phoneNumber);\n    phoneArr.push(phoneNumber);\n  });\n  companyInfo.phone = phoneArr;\n  \n  // Get AboutUs URL\n  let aboutUsAnchor = document(\"a[href*='about-us']\").attr(\"href\");\n  if (!aboutUsAnchor.toLowerCase().startsWith(\"http\") && !aboutUsAnchor.toLowerCase().startsWith(\"https\")) {\n    aboutUsAnchor = siteUrl + aboutUsAnchor;\n  }\n  // Send Request to AboutUs URL to Get Company Description\n  const aboutRequest = await getSiteHtml(aboutUsAnchor);\n  const description = aboutRequest('.entry-content').text();\n  companyInfo.description = description;\n  \n  console.log(companyInfo);\n});"]}