{"version":3,"sources":["../../src/scripts/absoluteaviation.js"],"names":["getSiteHtml","require","siteUrl","request","companyInfo","then","document","companyLogo","attr","phoneArr","each","phoneNumber","text","toLowerCase","replace","push","phone","aboutUsAnchor","startsWith","aboutRequest","description","console","log","html","title","find","content","twitterAnchor","twitter","facebookAnchor"],"mappings":";;;;AAAA,IAAMA,cAAcC,QAAQ,kBAAR,CAApB;;AAEA,IAAMC,UAAU,8BAAhB;;AAEA,IAAMC,UAAUH,YAAYE,OAAZ,CAAhB;;AAEA,IAAIE,cAAc,EAAlB;;AAEAD,QAAQE,IAAR;AAAA,qEAAa,iBAAeC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEX;AACMC,uBAHK,GAGSD,SAAS,oBAAT,EAA+BE,IAA/B,CAAoC,KAApC,CAHT;;AAIXJ,wBAAYG,WAAZ,GAA0BA,WAA1B;;AAEA;AACIE,oBAPO,GAOI,EAPJ;;AAQXH,qBAAS,iBAAT,EAA4BI,IAA5B,CAAiC,YAAW;AAC1C,kBAAIC,cAAcL,SAAS,IAAT,EAAeM,IAAf,GAAsBC,WAAtB,EAAlB;AACAF,4BAAcA,YAAYG,OAAZ,CAAoB,MAApB,EAA4B,EAA5B,EAAgCH,WAAhC,CAAd;AACAA,4BAAcA,YAAYG,OAAZ,CAAoB,GAApB,EAAyB,EAAzB,EAA6BH,WAA7B,CAAd;AACAA,4BAAcA,YAAYG,OAAZ,CAAoB,MAApB,EAA4B,EAA5B,EAAgCH,WAAhC,CAAd;AACAF,uBAASM,IAAT,CAAcJ,WAAd;AACD,aAND;AAOAP,wBAAYY,KAAZ,GAAoBP,QAApB;;AAEA;AACIQ,yBAlBO,GAkBSX,SAAS,qBAAT,EAAgCE,IAAhC,CAAqC,MAArC,CAlBT;;AAmBX,gBAAI,CAACS,cAAcJ,WAAd,GAA4BK,UAA5B,CAAuC,MAAvC,CAAD,IAAmD,CAACD,cAAcJ,WAAd,GAA4BK,UAA5B,CAAuC,OAAvC,CAAxD,EAAyG;AACvGD,8BAAgBf,UAAUe,aAA1B;AACD;;AAED;AAvBW;AAAA,mBAwBgBjB,YAAYiB,aAAZ,CAxBhB;;AAAA;AAwBLE,wBAxBK;AAyBPC,uBAzBO,GAyBO,EAzBP;;AA0BXD,yBAAa,iBAAb,EAAgCT,IAAhC,CAAqC,YAAW;AAC9CW,sBAAQC,GAAR,CAAYH,aAAa,IAAb,EAAmBI,IAAnB,EAAZ;AACA,kBAAIC,QAAQL,aAAa,IAAb,EAAmBM,IAAnB,CAAwB,oBAAxB,EAA8Cb,IAA9C,EAAZ;AACA,kBAAIc,UAAUP,aAAa,IAAb,EAAmBM,IAAnB,CAAwB,GAAxB,EAA6Bb,IAA7B,EAAd;;AAEAQ,0BAAYL,IAAZ,CAAiB;AACf,yBAASS,KADM;AAEf,2BAAWE;AAFI,eAAjB;AAID,aATD;AAUAtB,wBAAYgB,WAAZ,GAA0BA,WAA1B;;AAEA;AACIO,yBAvCO,GAuCSrB,SAAS,wBAAT,EAAmCE,IAAnC,CAAwC,MAAxC,CAvCT;;AAwCXJ,wBAAYwB,OAAZ,GAAsBD,aAAtB;;AAEIE,0BA1CO,GA0CUvB,SAAS,yBAAT,EAAoCE,IAApC,CAAyC,MAAzC,CA1CV;;AA2CXJ,wBAAYyB,cAAZ,GAA6BA,cAA7B;;AAEAR,oBAAQC,GAAR,CAAYlB,WAAZ;;AA7CW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAb;;AAAA;AAAA;AAAA;AAAA","file":"absoluteaviation.js","sourcesContent":["const getSiteHtml = require('../utils/scraper');\n\nconst siteUrl = \"https://absoluteaviation.com\";\n\nconst request = getSiteHtml(siteUrl);\n\nvar companyInfo = {};\n\nrequest.then(async function(document) {\n\n  // Company Logo\n  const companyLogo = document(\"a:nth-child(1) img\").attr(\"src\");\n  companyInfo.companyLogo = companyLogo;\n\n  // Telephone\n  let phoneArr = [];\n  document(\"a[href*='tel:']\").each(function() {\n    let phoneNumber = document(this).text().toLowerCase();\n    phoneNumber = phoneNumber.replace(\"tel:\", \"\", phoneNumber);\n    phoneNumber = phoneNumber.replace(\" \", \"\", phoneNumber);\n    phoneNumber = phoneNumber.replace(\"call\", \"\", phoneNumber);\n    phoneArr.push(phoneNumber);\n  });\n  companyInfo.phone = phoneArr;\n  \n  // Get AboutUs URL\n  let aboutUsAnchor = document(\"a[href*='about-us']\").attr(\"href\");\n  if (!aboutUsAnchor.toLowerCase().startsWith(\"http\") && !aboutUsAnchor.toLowerCase().startsWith(\"https\")) {\n    aboutUsAnchor = siteUrl + aboutUsAnchor;\n  }\n\n  // Send Request to AboutUs URL to Get Company Description\n  const aboutRequest = await getSiteHtml(aboutUsAnchor);\n  let description = [];\n  aboutRequest('.entry__content').each(function() {\n    console.log(aboutRequest(this).html());\n    let title = aboutRequest(this).find('h1, h2, h3, h4, h5').text();\n    let content = aboutRequest(this).find('p').text();\n    \n    description.push({\n      'title': title,\n      'content': content\n    })\n  });\n  companyInfo.description = description;\n  \n  // Social\n  let twitterAnchor = document(\"a[href*='twitter.com']\").attr(\"href\");\n  companyInfo.twitter = twitterAnchor;\n\n  let facebookAnchor = document(\"a[href*='facebook.com']\").attr(\"href\");\n  companyInfo.facebookAnchor = facebookAnchor;\n\n  console.log(companyInfo);\n});"]}